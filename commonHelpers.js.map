{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["import axios from 'axios';\n\n// const input = document.querySelector('.search-input');\nconst form = document.querySelector('.js-search-form');\nconst searchBtn = document.querySelector('.search-btn');\nconst gallery = document.querySelector('.js-gallery');\n\naxios.defaults.baseURL = 'https://api.unsplash.com';\naxios.defaults.headers.common['Authorization'] =\n  'Client-ID LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\nform.addEventListener('submit', onSearchClick);\n\nfunction getPhotos(query) {\n  return axios.get('/search/photos', {\n    params: {\n      query,\n      orientation: 'portrait',\n    },\n  });\n}\n\nasync function onSearchClick(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const query = form.elements['user-search-query'].value.trim();\n\n  //коли йде запит на сервер може статися помилка тому це потрібно вірно обробити\n  try {\n    //   const response = await getPhotos(query)\n    const {\n      data: { results },\n    } = await getPhotos(query);\n    gallery.innerHTML = createMarkup(results);\n\n    if (!results.length) {\n      alert('Please enter something');\n      gallery.innerHTML = '';\n      return;\n    }\n  } catch (err) {\n    console.log(err);\n  } finally {\n    form.reset();\n  }\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ urls: { small } }) => `  <li>\n<img src=${small}>\n  </li>`\n    )\n    .join('');\n}\n"],"names":["form","gallery","axios","onSearchClick","getPhotos","query","evt","results","createMarkup","err","arr","small"],"mappings":"svBAGA,MAAMA,EAAO,SAAS,cAAc,iBAAiB,EACnC,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAU,SAAS,cAAc,aAAa,EAEpDC,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,QAAQ,OAAO,cAC5B,wDAEFF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASC,EAAUC,EAAO,CACxB,OAAOH,EAAM,IAAI,iBAAkB,CACjC,OAAQ,CACN,MAAAG,EACA,YAAa,UACd,CACL,CAAG,CACH,CAEA,eAAeF,EAAcG,EAAK,CAChCA,EAAI,eAAc,EAElB,MAAMN,EAAOM,EAAI,cACXD,EAAQL,EAAK,SAAS,mBAAmB,EAAE,MAAM,OAGvD,GAAI,CAEF,KAAM,CACJ,KAAM,CAAE,QAAAO,CAAS,CACvB,EAAQ,MAAMH,EAAUC,CAAK,EAGzB,GAFAJ,EAAQ,UAAYO,EAAaD,CAAO,EAEpC,CAACA,EAAQ,OAAQ,CACnB,MAAM,wBAAwB,EAC9BN,EAAQ,UAAY,GACpB,MACD,CACF,OAAQQ,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACnB,QAAY,CACRT,EAAK,MAAK,CACX,CACH,CAEA,SAASQ,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,KAAM,CAAE,MAAAC,CAAK,CAAI,IAAK;AAAA,WACpBA,CAAK;AAAA,QAEX,EACA,KAAK,EAAE,CACZ"}